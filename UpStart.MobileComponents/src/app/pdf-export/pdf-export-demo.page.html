<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/home"></ion-back-button>
    </ion-buttons>
    <ion-title>PDF Export</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div class="page-content">
    <!-- Introduction -->
    <div class="intro-section">
      <h1 class="main-title">PDF Export System</h1>
      <p class="intro-text">
        Generate professional PDF documents from HTML content with native sharing capabilities. 
        All processing happens on-device for complete privacy.
      </p>
    </div>

    <!-- Export Examples -->
    <div class="examples-grid">
      <ion-card *ngFor="let example of exportExamples" class="export-card">
        <ion-card-header>
          <div class="card-header-content">
            <ion-icon [name]="example.icon" class="example-icon"></ion-icon>
            <div class="header-text">
              <ion-card-title>{{ example.title }}</ion-card-title>
              <ion-card-subtitle>{{ example.subtitle }}</ion-card-subtitle>
            </div>
          </div>
        </ion-card-header>
        
        <ion-card-content>
          <p class="example-description">{{ example.description }}</p>
          
          <ion-button 
            expand="block" 
            (click)="exportPdf(example)"
            [disabled]="isExporting">
            <ion-spinner *ngIf="isCurrentlyExporting(example.id)" name="circular" slot="start"></ion-spinner>
            <ion-icon *ngIf="!isCurrentlyExporting(example.id)" name="share-outline" slot="start"></ion-icon>
            {{ isCurrentlyExporting(example.id) ? 'Generating...' : 'Generate & Share PDF' }}
          </ion-button>
        </ion-card-content>
      </ion-card>
    </div>

    <!-- Features Section -->
    <div class="features-section">
      <h2 class="section-title">Key Features</h2>
      
      <div class="feature-list">
        <div class="feature-item">
          <ion-icon name="document-text-outline" color="primary"></ion-icon>
          <div class="feature-content">
            <h3>HTML to PDF</h3>
            <p>Convert rich HTML content to professional PDF documents with full styling support</p>
          </div>
        </div>
        
        <div class="feature-item">
          <ion-icon name="share-outline" color="success"></ion-icon>
          <div class="feature-content">
            <h3>Native Sharing</h3>
            <p>Share PDFs via email, messaging apps, cloud storage, or any installed app</p>
          </div>
        </div>
        
        <div class="feature-item">
          <ion-icon name="download-outline" color="tertiary"></ion-icon>
          <div class="feature-content">
            <h3>On-Device Processing</h3>
            <p>All PDF generation happens locally - no data sent to external servers</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Technical Details -->
    <div class="tech-details-section">
      <h2 class="section-title">Technical Details</h2>
      
      <ion-card>
        <ion-card-header>
          <ion-card-title>Implementation</ion-card-title>
        </ion-card-header>
        <ion-card-content>
          <ul class="tech-list">
            <li><code>pdfmake</code> - PDF generation engine</li>
            <li><code>html-to-pdfmake</code> - HTML conversion library</li>
            <li><code>@capacitor/filesystem</code> - File storage</li>
            <li><code>@capacitor/share</code> - Native sharing</li>
            <li><code>@capacitor/file-viewer</code> - PDF viewing (optional)</li>
          </ul>
          
          <p style="margin-top: 16px;">
            <ion-text color="medium">
              <small>
                PDFs are temporarily cached and automatically cleaned up after sharing.
                Supports custom fonts, colors, tables, images, and complex layouts.
              </small>
            </ion-text>
          </p>
        </ion-card-content>
      </ion-card>
    </div>
  </div>
</ion-content>

