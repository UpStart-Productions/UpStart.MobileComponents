<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/home"></ion-back-button>
    </ion-buttons>
    <ion-title>Share Sheet Demo</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">Share Sheet Demo</ion-title>
    </ion-toolbar>
  </ion-header>

  <!-- Introduction Card -->
  <ion-card>
    <ion-card-header>
      <ion-card-title>Native Share Sheet Integration</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <p>This demo showcases a reusable sharing service with native action sheet integration.</p>
      <div style="margin-top: 12px;">
        <ion-chip color="primary">
          <ion-icon name="mail-outline"></ion-icon>
          <ion-label>Email as HTML</ion-label>
        </ion-chip>
        <ion-chip color="secondary">
          <ion-icon name="chatbubble-outline"></ion-icon>
          <ion-label>Text/SMS</ion-label>
        </ion-chip>
      </div>
    </ion-card-content>
  </ion-card>

  <!-- Optional Recipient Email -->
  <ion-card>
    <ion-card-header>
      <ion-card-title>Optional Settings</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <ion-item>
        <ion-label position="stacked">Recipient Email (Optional)</ion-label>
        <ion-input
          [(ngModel)]="recipientEmail"
          type="email"
          placeholder="recipient@example.com"
        ></ion-input>
      </ion-item>
      <ion-text color="medium">
        <p style="font-size: 12px; margin-top: 8px;">If provided, the email composer will pre-fill the recipient.</p>
      </ion-text>
    </ion-card-content>
  </ion-card>

  <!-- Example 1: Share Formatted Content -->
  <ion-card>
    <ion-card-header>
      <ion-card-title>Example 1: Share Formatted Content</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <!-- This content will be captured -->
      <div #formattedContent style="padding: 12px; background: #f5f5f5; border-radius: 8px; margin-bottom: 16px;">
        <h2>Project Update</h2>
        <p>Here's a quick update on our progress:</p>
        <ul>
          <li><strong>Phase 1:</strong> Complete ✓</li>
          <li><strong>Phase 2:</strong> In Progress</li>
          <li><strong>Phase 3:</strong> Planned</li>
        </ul>
        <p style="margin-top: 12px;"><em>Next meeting: Next Tuesday at 2 PM</em></p>
      </div>
      
      <ion-button expand="block" (click)="shareFormattedContent()">
        <ion-icon slot="start" name="share-outline"></ion-icon>
        Share This Content
      </ion-button>

      <ion-text color="medium">
        <p style="font-size: 12px; margin-top: 8px;">
          This example captures HTML from a ViewChild element reference.
        </p>
      </ion-text>
    </ion-card-content>
  </ion-card>

  <!-- Example 2: Share Custom HTML String -->
  <ion-card>
    <ion-card-header>
      <ion-card-title>Example 2: Share Custom HTML String</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <ion-item>
        <ion-label position="stacked">Custom Title</ion-label>
        <ion-input [(ngModel)]="customTitle" placeholder="Enter title"></ion-input>
      </ion-item>
      
      <ion-item>
        <ion-label position="stacked">Custom HTML Content</ion-label>
        <ion-input 
          [(ngModel)]="customHtmlContent" 
          placeholder="Enter HTML content"
        ></ion-input>
      </ion-item>

      <ion-button expand="block" (click)="shareCustomContent()" style="margin-top: 16px;">
        <ion-icon slot="start" name="share-outline"></ion-icon>
        Share Custom Content
      </ion-button>

      <ion-text color="medium">
        <p style="font-size: 12px; margin-top: 8px;">
          This example uses a pre-formatted HTML string.
        </p>
      </ion-text>
    </ion-card-content>
  </ion-card>

  <!-- Example 3: Share Meeting Notes -->
  <ion-card>
    <ion-card-header>
      <ion-card-title>Example 3: Share Meeting Notes</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <p>Share a pre-formatted meeting notes template with agenda and action items.</p>
      
      <ion-button expand="block" (click)="shareMeetingNotes()">
        <ion-icon slot="start" name="share-outline"></ion-icon>
        Share Meeting Notes
      </ion-button>

      <ion-text color="medium">
        <p style="font-size: 12px; margin-top: 8px;">
          Demonstrates sharing structured content with headers and lists.
        </p>
      </ion-text>
    </ion-card-content>
  </ion-card>

  <!-- Testing Tools -->
  <ion-card>
    <ion-card-header>
      <ion-card-title>Testing Tools</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <ion-button expand="block" fill="outline" (click)="testConversion()">
        Test HTML → Text Conversion
      </ion-button>
      <ion-text color="medium">
        <p style="font-size: 12px; margin-top: 8px;">
          Check the console to see how HTML is converted to plain text.
        </p>
      </ion-text>
    </ion-card-content>
  </ion-card>

  <!-- Features List -->
  <ion-card>
    <ion-card-header>
      <ion-card-title>Features</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <ion-list [inset]="true">
        <ion-item>
          <ion-icon name="checkmark-circle" slot="start" color="success"></ion-icon>
          <ion-label>Native action sheet UI</ion-label>
        </ion-item>
        <ion-item>
          <ion-icon name="checkmark-circle" slot="start" color="success"></ion-icon>
          <ion-label>HTML content capture</ion-label>
        </ion-item>
        <ion-item>
          <ion-icon name="checkmark-circle" slot="start" color="success"></ion-icon>
          <ion-label>HTML to text conversion</ion-label>
        </ion-item>
        <ion-item>
          <ion-icon name="checkmark-circle" slot="start" color="success"></ion-icon>
          <ion-label>Email composer integration</ion-label>
        </ion-item>
        <ion-item>
          <ion-icon name="checkmark-circle" slot="start" color="success"></ion-icon>
          <ion-label>Gmail/Outlook fallbacks</ion-label>
        </ion-item>
        <ion-item>
          <ion-icon name="checkmark-circle" slot="start" color="success"></ion-icon>
          <ion-label>Native share dialog</ion-label>
        </ion-item>
      </ion-list>
    </ion-card-content>
  </ion-card>
</ion-content>
